{
    "$schema": "https://docs.renovatebot.com/renovate-schema.json",
    "automergeStrategy": "rebase",
    "automergeType": "pr",
    "prConcurrentLimit": 5,
    "prHourlyLimit": 2,
    "commitMessagePrefix": "NO-ISSUE: ",
    "labels": ["lgtm", "approved"],
    "ignorePaths": ["vendor/**"],
    "gomod": {
        "enabled": true,
        "commitMessageTopic": "Go module {{depName}}"
    },
    "packageRules": [
        {
            "description": "Auto-merge patch updates for Go dependencies",
            "matchManagers": ["gomod"],
            "matchUpdateTypes": ["patch"],
            "addLabels": ["dependencies", "go-mod"],
            "autoApprove": true,
            "automerge": true
        },
        {
            "description": "Auto-approve minor updates for Go dependencies",
            "matchManagers": ["gomod"],
            "matchUpdateTypes": ["minor"],
            "addLabels": ["dependencies", "go-mod"],
            "autoApprove": true,
            "automerge": false
        },
        {
            "description": "Manual review for major Go dependency updates",
            "matchManagers": ["gomod"],
            "matchUpdateTypes": ["major"],
            "addLabels": ["dependencies", "go-mod", "major-update"],
            "autoApprove": false,
            "automerge": false
        },
        {
            "description": "Group Kubernetes dependencies",
            "matchManagers": ["gomod"],
            "groupName": "kubernetes dependencies",
            "addLabels": ["dependencies", "kubernetes"],
            "autoApprove": true,
            "automerge": false,
            "matchPackageNames": ["/^k8s\\.io//", "/^sigs\\.k8s\\.io//"]
        },
        {
            "description": "Group OpenShift dependencies",
            "matchManagers": ["gomod"],
            "groupName": "openshift dependencies",
            "addLabels": ["dependencies", "openshift"],
            "autoApprove": true,
            "automerge": false,
            "matchPackageNames": [
                "/^github\\.com/openshift//",
                "/^github\\.com/openshift-kni//"
            ]
        },
        {
            "description": "Group Google API dependencies",
            "matchManagers": ["gomod"],
            "groupName": "google apis",
            "addLabels": ["dependencies", "google-apis"],
            "autoApprove": true,
            "automerge": false,
            "matchPackageNames": ["/^google\\.golang\\.org\\/genproto//", "/^google\\.golang\\.org\\/grpc//"]
        },
        {
            "description": "Group golang.org/x dependencies",
            "matchManagers": ["gomod"],
            "groupName": "golang.org/x",
            "addLabels": ["dependencies", "golang-x"],
            "autoApprove": true,
            "automerge": false,
            "matchPackageNames": ["/^golang\\.org\\/x//"]
        },
        {
            "description": "Group testing dependencies",
            "matchManagers": ["gomod"],
            "groupName": "testing dependencies",
            "addLabels": ["dependencies", "testing"],
            "autoApprove": true,
            "automerge": false,
            "matchPackageNames": ["/^github\\.com\\/onsi//", "/^github\\.com\\/stretchr\\/testify//", "/^go\\.uber\\.org\\/mock//"]
        },
        {
            "description": "Group telemetry and observability dependencies",
            "matchManagers": ["gomod"],
            "groupName": "observability dependencies",
            "addLabels": ["dependencies", "observability"],
            "autoApprove": true,
            "automerge": false,
            "matchPackageNames": ["/^go\\.opentelemetry\\.io//", "/^github\\.com\\/prometheus//", "/^go\\.uber\\.org\\/zap//"]
        },
        {
            "description": "Group utility and helper dependencies",
            "matchManagers": ["gomod"],
            "groupName": "utility dependencies",
            "addLabels": ["dependencies", "utilities"],
            "autoApprove": true,
            "automerge": true,
            "matchUpdateTypes": ["patch", "minor"],
            "matchPackageNames": ["/^github\\.com\\/go-logr//", "/^gopkg\\.in\\/yaml//", "/^github\\.com\\/wI2L\\/jsondiff//"]
        },
        {
            "description": "Disable updates for pseudo-versions and replace directives",
            "matchManagers": ["gomod"],
            "matchPackageNames": ["/^github\\.com\\/openshift\\/assisted-service//", "/^github\\.com\\/openshift\\/hive\\/apis//"],
            "enabled": false
        },
        {
            "description": "Auto-merge security updates",
            "matchManagers": ["gomod"],
            "matchDepTypes": ["require"],
            "vulnerabilityAlerts": {
                "addLabels": ["security"],
                "autoApprove": true,
                "automerge": true
            }
        }
    ],
    "vulnerabilityAlerts": {
        "enabled": true
    },
    "osvVulnerabilityAlerts": true,
    "schedule": [
        "before 6am on Monday"
    ],
    "separateMinorPatch": false,
    "rangeStrategy": "bump"
}
